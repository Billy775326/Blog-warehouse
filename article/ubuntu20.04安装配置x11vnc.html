<h2 style="" id="%E6%89%93%E5%BC%80%E7%BB%88%E7%AB%AF%E5%B9%B6%E8%BE%93%E5%85%A5%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E4%BB%A5%E5%AE%89%E8%A3%85x11vnc%EF%BC%9A">打开终端并输入以下命令以安装x11vnc：</h2><pre><code class="language-bash">sudo apt-get install x11vnc</code></pre><p style="">安装完成后，输入以下命令以生成密码文件：</p><pre><code class="language-bash">sudo x11vnc -storepasswd /etc/x11vnc.pass</code></pre><p style="">该命令将提示您输入密码，然后将密码保存在/etc/x11vnc.pass文件中。</p><p style=""></p><h2 style="" id="%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAsystemd%E6%9C%8D%E5%8A%A1%E6%96%87%E4%BB%B6%EF%BC%8C%E4%BB%A5%E4%BE%BF%E5%9C%A8%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E6%97%B6%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8x11vnc">创建一个systemd服务文件，以便在系统启动时自动启动x11vnc</h2><pre><code class="language-bash">sudo nano /etc/systemd/system/x11vnc.service</code></pre><p style="">将以下内容复制并粘贴到文件中：</p><pre><code class="language-bash">[Unit]
Description=Start x11vnc at startup.
After=lightdm.service  # 或 display-manager.service

[Service]
Type=simple
ExecStart=/usr/bin/x11vnc -auth guess -forever -noxdamage -repeat -rfbauth /etc/x11vnc.pass -rfbport 5900 -shared

[Install]
WantedBy=multi-user.target</code></pre><p style="">然后按Ctrl + X，输入“Y”以保存并退出nano编辑器。</p><p style=""></p><h2 style="" id="%E5%90%AF%E7%94%A8%E5%B9%B6%E5%90%AF%E5%8A%A8x11vnc%E6%9C%8D%E5%8A%A1%E3%80%82%E5%9C%A8%E7%BB%88%E7%AB%AF%E4%B8%AD%E8%BE%93%E5%85%A5%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%EF%BC%9A">启用并启动x11vnc服务。在终端中输入以下命令：</h2><pre><code class="language-bash">sudo systemctl enable x11vnc.service 
sudo systemctl start x11vnc.service</code></pre><p style="">重启服务器</p><p style="">现在，x11vnc服务应该已经启动并正在运行。</p><p style="">使用VNC客户端连接到桌面，使用IP地址和端口号5900，并输入先前设置的密码。</p><p style=""></p><h1 style="" id="%E5%90%AF%E5%8A%A8x11vnc%E5%A4%B1%E8%B4%A5%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95">启动x11vnc失败的解决办法</h1><h2 style="" id="%E7%BB%88%E7%AB%AF%E5%90%AF%E5%8A%A8x11vnc%E5%91%BD%E4%BB%A4">终端启动x11vnc命令</h2><pre><code class="language-bash">/usr/bin/x11vnc -auth guess -forever -noxdamage -repeat -rfbauth /etc/x11vnc.pass -rfbport 5900 -shared</code></pre><p style="">终端启动x11vnc,并使用vnc客户端查看是否能正常进入系统</p><p style=""></p><h3 style="" id="1.%E8%BF%9B%E5%85%A5%E7%B3%BB%E7%BB%9F%E5%A4%B1%E8%B4%A5">1.进入系统失败</h3><h4 style="" id="%E6%A3%80%E6%9F%A5%E6%9C%8D%E5%8A%A1%E7%8A%B6%E6%80%81%EF%BC%9A"><strong>检查服务状态</strong>：</h4><p style="">查看服务状态和日志，以确保服务正确启动：</p><pre><code class="language-bash">sudo systemctl status x11vnc.service
sudo journalctl -u x11vnc.service</code></pre><p style=""></p><h4 style="" id="%E7%A1%AE%E4%BF%9D-%2Fetc%2Fx11vnc.pass-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E6%AD%A3%E7%A1%AE%EF%BC%9A"><strong>确保 </strong><code>/etc/x11vnc.pass</code> 文件权限正确：</h4><p style="">确认密码文件的权限和路径：</p><pre><code class="language-bash">sudo chmod 600 /etc/x11vnc.pass</code></pre><h4 style="" id="%E9%87%8D%E6%96%B0%E5%8A%A0%E8%BD%BD-systemd-%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%EF%BC%9A"><strong>重新加载 systemd 守护进程</strong>：</h4><pre><code class="language-bash">sudo systemctl daemon-reload</code></pre><h4 style="" id="%E5%90%AF%E7%94%A8%E5%B9%B6%E5%90%AF%E5%8A%A8-x11vnc-%E6%9C%8D%E5%8A%A1%EF%BC%9A"><strong>启用并启动 x11vnc 服务</strong>：</h4><pre><code class="language-bash">sudo systemctl enable x11vnc.service
sudo systemctl start x11vnc.service</code></pre><p style=""></p><h3 style="" id="2.%E6%88%90%E5%8A%9F%E7%99%BB%E5%BD%95%E7%B3%BB%E7%BB%9F">2.成功登录系统</h3><p style="">无其他错误，重新加载 systemd 守护进程并重启 x11vnc 服务即可</p><h4 style="" id="%E9%87%8D%E6%96%B0%E5%8A%A0%E8%BD%BD-systemd-%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%EF%BC%9A-1"><strong>重新加载 systemd 守护进程</strong>：</h4><pre><code class="language-bash">sudo systemctl daemon-reload</code></pre><h4 style="" id="%E5%90%AF%E7%94%A8%E5%B9%B6%E5%90%AF%E5%8A%A8-x11vnc-%E6%9C%8D%E5%8A%A1%EF%BC%9A-1"><strong>启用并启动 x11vnc 服务</strong>：</h4><pre><code class="language-bash">sudo systemctl enable x11vnc.service
sudo systemctl start x11vnc.service</code></pre><p style=""></p>